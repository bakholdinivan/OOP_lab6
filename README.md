# Лабораторная работа №6

## Тема: "***<u>Паттерны проектирования</u>***"

### Цель:

- Закрепление паттернов SOLID

### Порядок выполнения работы:

- Ознакомиться с теоретическим материалом

- Реализовать задание в соответствии с вариантом (Вариант 20)

- Написать Unit-тесты с использованием Google Test

- Отчитаться по выполненной работе путём демонстрации работающей программы на тестовых наборах данных (как подготовленных самостоятельно, так и предложенных преподавателем) и ответов на вопросы преподавателя (как из числа контрольных, так и по реализации программы).

### Требования к программе:

Вы разрабатываете редактор подземелья для новой RPG игры Balagur Fate 3. Ваша задача сделать программу, которая позволит моделировать базовые локации, расставляя на них NPC (non-player characters).

Редактор должен позволять делать следующие действия:

1. Добавлять новые NPC по разным координатам (типы объектов предопределены заданием)
   
   - NPC размещаются в квадрате `0 <= x <= 500` метров, `0 <= y <= 500` метров
   
   - У каждого типа объекта помимо координат должно быть уникальное имя.

2. Сохранять объекты в файл и загружать из файла

3. Печатать перечень объектов на экран (с типом объектов, координатами и именем)

4. Запускать боевой режим с указанием дальности, на которой могут сражаться `NPC`. В боевом режиме `NPC` начинают сражаться каждый с каждым (если дальность позволяет), проигравший `NPC` – удаляется. При этом погибнуть могут и оба `NPC`.

При создании программы обязательно использовать паттерны:

- Какой-нибудь из вариантов Factory для создания NPC и загрузки NPC из файла

- `Visitor` – для проведения цикла сражения

- `Observer` – для печати событий о совершенных убийствах. Сделать два класса `Observer` – для 
  записи в файл `log.txt` и для печати на экран.

## Условие задачи:

###### Создать программу, которая реализует следующую стратегию работы `memory_resource`

| Объекты  | Правило совместимости              |
|:--------:|:----------------------------------:|
|  Дракон  | Дракон ест быков                   |
| Бык      | Бык топчет жаб                     |
| Жаба     | Жабы спасаются как могут           |

---

## Структура проекта

```
tasks/lab06/
├── CMakeLists.txt
│
├── include/
│ ├── BattleVisitor.h
│ ├── Bull.h
│ ├── Dragon.h
│ ├── Editor.h
│ ├── Frog.h
│ ├── NPC.h
│ ├── NPCFactory.h
│ └── Observer.h
│
├── src/
│ ├── main.cpp
│ ├── BattleVisitor.cpp
│ ├── Bull.cpp
│ ├── Dragon.cpp
│ ├── Editor.cpp
│ ├── Frog.cpp
│ ├── NPC.cpp
│ ├── NPCFactory.cpp
│ └── Observer.cpp
│
└── tests/
├── test_main.cpp
```

## Сборка и запуск проекта

**Сборка:**

```bash
# Создание директории для сборки
mkdir build
cd build

# Конфигурация проекта
cmake ..

# Сборка проекта
cmake --build .
```

**Запуск:**

```bash
./editor
```

## Запуск тестов:

```bash
./tests
